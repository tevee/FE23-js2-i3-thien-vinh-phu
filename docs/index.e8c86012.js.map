{"mappings":"AESA,eAAe,EAAY,CAAc,EACrC,IAAM,EAAM,CAAC,wCAAwC,EAAE,EAAQ,CAAC,CAE1D,EAAM,MAAM,MAAM,GAClB,EAAW,MAAM,EAAI,IAAI,GAE/B,GAAG,AAAe,MAAf,EAAI,MAAM,CAAU,KAAM,MACxB,GAAG,AAA6B,IAA7B,EAAS,QAAQ,CAAC,MAAM,CAC3B,OAAO,EAAS,QAAQ,AADW,MAAM,aAElD,CCdA,SAAS,EAAgB,CAAe,CAAE,CAAe,CAAE,CAAyB,EAChF,IAAM,EAAK,SAAS,aAAa,CAAC,GAIlC,MAHG,AAAY,QAAZ,EAAoB,EAAwB,GAAG,CAAG,EAChD,EAAG,SAAS,CAAG,EACpB,EAAU,WAAW,CAAC,GACf,CACX,CAEA,SAAS,EAAgB,CAAmB,EACxC,IAAM,EAAmB,SAAS,aAAa,CAAC,oBAChD,CAAA,EAAiB,SAAS,CAAG,GAE7B,EAAS,OAAO,CAAC,AAAA,IACb,IAAM,EAAc,EAAgB,MAAO,GAAI,GACzC,EAAgB,EAAgB,MAAO,GAAI,GACjD,EAAgB,MAAO,EAAQ,MAAM,CAAC,EAAE,CAAE,GAE1C,IAAM,EAAqB,EAAgB,MAAO,GAAI,GAChD,EAAiB,EAAgB,MAAO,GAAI,GAClD,EAAgB,KAAM,EAAQ,KAAK,CAAE,GACrC,EAAgB,IAAK,CAAC,QAAQ,EAAE,EAAQ,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAE,GAC7D,IAAM,EAAqB,EAAgB,IAAK,EAAQ,WAAW,CAAE,GAE/D,EAAe,EAAgB,IAAK,CAAC,OAAO,EAAE,EAAQ,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAE,EAC7E,CAAA,EAAQ,KAAK,CAAG,KACf,EAAa,SAAS,CAAG,CAAC,wBAAwB,EAAE,EAAQ,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,CACnF,EAAa,SAAS,CAAC,GAAG,CAAC,YAE/B,EAAgB,IAAK,CAAC,UAAU,EAAE,EAAQ,QAAQ,CAAC,CAAC,CAAE,GACtD,IAAM,EAAa,EAAgB,SAAU,cAAe,GAE5D,EAAY,SAAS,CAAC,GAAG,CAAC,gBAC1B,EAAa,SAAS,CAAC,GAAG,CAAC,iBAC3B,EAAmB,SAAS,CAAC,GAAG,CAAC,wBACjC,EAAe,SAAS,CAAC,GAAG,CAAC,mBAC7B,EAAmB,SAAS,CAAC,GAAG,CAAC,uBACjC,EAAW,SAAS,CAAC,GAAG,CAAC,eAEzB,EAAiB,MAAM,CAAC,EAC5B,EACJ,CAEA,SAAS,EAAa,CAAY,EAC3B,AAAU,QAAV,EAAiB,MAAM,qBACR,gBAAV,GAAyB,MAAM,yBAC3C,CF9CA,MAAM,EAAe,SAAS,aAAa,CAAC,eAC5C,EAAa,gBAAgB,CAAC,SAAU,AAAA,IACpC,EAAM,cAAc,GAIpB,AAAA,EAF2B,AADX,EAAa,aAAa,CAAC,SACR,KAAK,EAGnC,IAAI,CAAC,GACL,KAAK,CAAC,GAEX,EAAa,KAAK,EACtB","sources":["<anon>","src/main.ts","src/modules/api.ts","src/modules/display.ts"],"sourcesContent":["async function $fe11eb32f95cc6d1$export$68a801b7b3c0bfaa(product) {\n    const url = `https://dummyjson.com/products/search?q=${product}`;\n    const res = await fetch(url);\n    const products = await res.json();\n    if (res.status === 404) throw \"404\";\n    else if (products.products.length === 0) throw \"empty array\";\n    else return products.products;\n}\n\n\nfunction $b8f0d7ab97dededd$var$createAndAppend(tagName, content, container) {\n    const el = document.createElement(tagName);\n    if (tagName === \"img\") el.src = content;\n    else el.innerText = content;\n    container.appendChild(el);\n    return el;\n}\nfunction $b8f0d7ab97dededd$export$701310ed366ede44(products) {\n    const productContainer = document.querySelector(\"#productContainer\");\n    productContainer.innerHTML = \"\";\n    products.forEach((product)=>{\n        const productCard = $b8f0d7ab97dededd$var$createAndAppend(\"div\", \"\", productContainer);\n        const imgContainer = $b8f0d7ab97dededd$var$createAndAppend(\"div\", \"\", productCard);\n        $b8f0d7ab97dededd$var$createAndAppend(\"img\", product.images[0], imgContainer);\n        const productCardContent = $b8f0d7ab97dededd$var$createAndAppend(\"div\", \"\", productCard);\n        const productHeading = $b8f0d7ab97dededd$var$createAndAppend(\"div\", \"\", productCardContent);\n        $b8f0d7ab97dededd$var$createAndAppend(\"h3\", product.title, productHeading);\n        $b8f0d7ab97dededd$var$createAndAppend(\"p\", `Rating: ${product.rating.toString()}`, productHeading);\n        const productDescription = $b8f0d7ab97dededd$var$createAndAppend(\"p\", product.description, productCardContent);\n        const productStock = $b8f0d7ab97dededd$var$createAndAppend(\"p\", `Stock: ${product.stock.toString()}`, productCardContent);\n        if (product.stock < 10) {\n            productStock.innerText = `Stock: Almost sold out, ${product.stock.toString()} left`;\n            productStock.classList.add(\"warning\");\n        }\n        $b8f0d7ab97dededd$var$createAndAppend(\"p\", `Category: ${product.category}`, productCardContent);\n        const productBtn = $b8f0d7ab97dededd$var$createAndAppend(\"button\", \"Add to cart\", productCardContent);\n        productCard.classList.add(\"product-card\");\n        imgContainer.classList.add(\"img-container\");\n        productCardContent.classList.add(\"product-card-content\");\n        productHeading.classList.add(\"product-heading\");\n        productDescription.classList.add(\"product-description\");\n        productBtn.classList.add(\"product-btn\");\n        productContainer.append(productCard);\n    });\n}\nfunction $b8f0d7ab97dededd$export$7e605cc38c3f1d09(error) {\n    if (error === \"404\") alert(\"Product not found\");\n    else if (error === \"empty array\") alert(\"Product does not exist\");\n}\n\n\nconst $ad2bcec7a0192558$var$searchFormEl = document.querySelector(\"#searchForm\");\n$ad2bcec7a0192558$var$searchFormEl.addEventListener(\"submit\", (event)=>{\n    event.preventDefault();\n    const inputEl = $ad2bcec7a0192558$var$searchFormEl.querySelector(\"input\");\n    const searchInput = inputEl.value;\n    (0, $fe11eb32f95cc6d1$export$68a801b7b3c0bfaa)(searchInput).then((0, $b8f0d7ab97dededd$export$701310ed366ede44)).catch((0, $b8f0d7ab97dededd$export$7e605cc38c3f1d09));\n    $ad2bcec7a0192558$var$searchFormEl.reset();\n});\n\n\n//# sourceMappingURL=index.e8c86012.js.map\n","import {getProducts} from \"./modules/api.ts\";\r\nimport {displayProducts, displayError} from \"./modules/display.ts\";\r\n\r\nconst searchFormEl = document.querySelector('#searchForm') as HTMLFormElement\r\nsearchFormEl.addEventListener('submit', event => {\r\n    event.preventDefault()\r\n    const inputEl = searchFormEl.querySelector('input') as HTMLInputElement\r\n    const searchInput:string = inputEl.value;\r\n\r\n    getProducts(searchInput)\r\n        .then(displayProducts)\r\n        .catch(displayError)\r\n\r\n    searchFormEl.reset()\r\n})","type Product = {\r\n    images: string[],\r\n    title: string,\r\n    description: string,\r\n    rating: number,\r\n    stock: number,\r\n    category: string\r\n}\r\n\r\nasync function getProducts(product:string): Promise<Product[]> {\r\n    const url = `https://dummyjson.com/products/search?q=${product}`\r\n\r\n    const res = await fetch(url)\r\n    const products = await res.json()\r\n    \r\n    if(res.status === 404) throw '404'\r\n    else if(products.products.length === 0) throw 'empty array'\r\n    else return products.products as Product[]\r\n}\r\n\r\nexport {Product, getProducts}","import { Product } from \"./api.ts\";\r\n\r\n// Function overloads\r\nfunction createAndAppend<K extends keyof HTMLElementTagNameMap>(tagName: K, content: string, container: HTMLDivElement): HTMLElementTagNameMap[K];\r\nfunction createAndAppend(tagName: string, content: string, container: HTMLDivElement): HTMLElement {\r\n    const el = document.createElement(tagName);\r\n    if(tagName === 'img') (el as HTMLImageElement).src = content\r\n    else el.innerText = content;\r\n    container.appendChild(el);\r\n    return el as HTMLElement;\r\n}\r\n\r\nfunction displayProducts(products: Product[]): void {\r\n    const productContainer = document.querySelector('#productContainer') as HTMLDivElement\r\n    productContainer.innerHTML = ''\r\n\r\n    products.forEach(product => {\r\n        const productCard = createAndAppend('div', '', productContainer)\r\n        const imgContainer =  createAndAppend('div', '', productCard)\r\n        createAndAppend('img', product.images[0], imgContainer)\r\n\r\n        const productCardContent = createAndAppend('div', '', productCard)\r\n        const productHeading = createAndAppend('div', '', productCardContent)\r\n        createAndAppend('h3', product.title, productHeading)\r\n        createAndAppend('p', `Rating: ${product.rating.toString()}`, productHeading)\r\n        const productDescription = createAndAppend('p', product.description, productCardContent)\r\n\r\n        const productStock = createAndAppend('p', `Stock: ${product.stock.toString()}`, productCardContent)\r\n        if(product.stock < 10) {\r\n            productStock.innerText = `Stock: Almost sold out, ${product.stock.toString()} left`\r\n            productStock.classList.add('warning')\r\n        }\r\n        createAndAppend('p', `Category: ${product.category}`, productCardContent)\r\n        const productBtn = createAndAppend('button', 'Add to cart', productCardContent)\r\n\r\n        productCard.classList.add('product-card')\r\n        imgContainer.classList.add('img-container')\r\n        productCardContent.classList.add('product-card-content')\r\n        productHeading.classList.add('product-heading')\r\n        productDescription.classList.add('product-description')\r\n        productBtn.classList.add('product-btn')\r\n\r\n        productContainer.append(productCard)\r\n    })\r\n}\r\n\r\nfunction displayError(error:string): void {\r\n    if(error === '404') alert('Product not found')\r\n    else if(error === 'empty array') alert('Product does not exist')\r\n}\r\n\r\nexport {displayProducts, displayError}"],"names":["$fe11eb32f95cc6d1$export$68a801b7b3c0bfaa","product","url","res","fetch","products","json","status","length","$b8f0d7ab97dededd$var$createAndAppend","tagName","content","container","el","document","createElement","src","innerText","appendChild","$b8f0d7ab97dededd$export$701310ed366ede44","productContainer","querySelector","innerHTML","forEach","productCard","imgContainer","images","productCardContent","productHeading","title","rating","toString","productDescription","description","productStock","stock","classList","add","category","productBtn","append","$b8f0d7ab97dededd$export$7e605cc38c3f1d09","error","alert","$ad2bcec7a0192558$var$searchFormEl","addEventListener","event","preventDefault","inputEl","value","then","catch","reset"],"version":3,"file":"index.e8c86012.js.map"}